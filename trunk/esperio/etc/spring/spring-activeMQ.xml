<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN"
  "http://www.springframework.org/dtd/spring-beans-2.0.dtd">
<beans>

  <!-- ActiveMQ and JMS -->
  <bean id="broker" class="org.apache.activemq.xbean.BrokerFactoryBean">
    <property name="config" value="classpath:spring\\activeMQ.xml"/>
    <property name="start" value="true"/>
  </bean>

  <bean id="connectionFactory"
        class="org.apache.activemq.ActiveMQConnectionFactory"
        depends-on="broker">
    <property name="brokerURL" value="vm://localhost"/>
  </bean>

  <!-- a pooling based JMS provider -->
  <bean id="jmsFactory"
        class="org.apache.activemq.pool.PooledConnectionFactory">
    <property name="connectionFactory">
      <ref bean="connectionFactory"/>
    </property>
  </bean>

  <!--  ActiveMQ destinations to use  -->
  <bean id="activeMQDestination"
        class="org.apache.activemq.command.ActiveMQQueue">
    <constructor-arg value="ESPER.TEST.QUEUE"/>
  </bean>

</beans>